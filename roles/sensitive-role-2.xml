<!--
  ~ Copyright (c) 2012 Evolveum
  ~
  ~ The contents of this file are subject to the terms
  ~ of the Common Development and Distribution License
  ~ (the License). You may not use this file except in
  ~ compliance with the License.
  ~
  ~ You can obtain a copy of the License at
  ~ http://www.opensource.org/licenses/cddl1 or
  ~ CDDLv1.0.txt file in the source code distribution.
  ~ See the License for the specific language governing
  ~ permission and limitations under the License.
  ~
  ~ If applicable, add the following below the CDDL Header,
  ~ with the fields enclosed by brackets [] replaced by
  ~ your own identifying information:
  ~
  ~ Portions Copyrighted 2012 [name of copyright owner]
  -->

<role oid="12345678-d34d-b33f-f00d-000287987988"
      xmlns="http://midpoint.evolveum.com/xml/ns/public/common/common-2"
      xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-2">
    <name>Sensitive Role 2</name>
    <description>Security-sensitive role, whose assignment to a user must be approved by various persons, as described by the approval schema.</description>
    <approvalSchema>
        <name>Sample Complex Schema 1</name>
        <description>A sample complex approval schema, involving the security administrator</description>
        <level>
            <name>Bosses</name>
            <description>At this level, either one of the company directors has to approve the assignment.</description>
            <approverRef xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-2"
                         oid="75f2806d-e31b-40c9-8133-85ed4d9e6252"
                         type="c:UserType">
                <description>Big boss #1 approval</description>
            </approverRef>
            <approverRef xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-2"
                         oid="0e030e0c-a37d-47b2-bde8-f8e61e4a2bfb"
                         type="c:UserType">
                <description>Big boss #2 approval</description>
            </approverRef>
            <evaluationStrategy>firstDecides</evaluationStrategy>
        </level>
        <level>
            <name>Administrators</name>
            <description>At this level, system administrator as well as security manager must approve.</description>
            <approverRef xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-2"
                         oid="00000000-0000-0000-0000-000000000002"
                         type="c:UserType">
                <description>Administrator approval</description>
            </approverRef>
            <approverRef xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-2"
                         oid="c168470c-bfef-414f-88b5-5d144f4f3d6c"
                         type="c:UserType">
                <description>Security Manager approval</description>
            </approverRef>
            <evaluationStrategy>allMustApprove</evaluationStrategy>
        </level>
    </approvalSchema>
</role>
